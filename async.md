# 비동기...

# AJAX 비동기 통신
XMLHttpRequest객체 혹은 fetch 메서드 를 이용하여 비동기 방식으로 서버와 통신하는 방법으로 이방법을 이용해 내부족으로 response를 받아 동적으로 데이트를 핸들링 하게 되어 페이지 새로고침을 하지 않고 fetch를 합니다.

## JSONP
ajax는 크로스도메인이 허용하지 않기 때문에 사용하는 기술로, script 코드가 돔에 추가되면 외부 스크립트를 로드할수 있으므로, 외부 스크립트를 호출하면서 함수를 명시해 줘서 콜백함수를 실행해서 데이타를 바인딩 하는 방법. 하지만 요즘은 보안 상 안쓴다.

## promise
콜백 함수로 처리하면 되는 문제였지만 요즘에는 프론트엔드의 규모가 커지면서 코드의 복잡도가 높아지는 콜백 지옥이 발생하게 됩니다.
이런 상황에서 등장한 것이 promise 입니다. 비동기 작업을 병렬로 혹은 순차적으로 진행할 수 있게 되었습니다. 하지만 더 좋은 방법인 async awiat가 나와
좀 더 깔끔한 코드를 만들어 낼수 있게 되었습니다.

## 자바스크립트의 비동기 동작 방식이 생긴 배경

1. AJAX라는 서버로부터의 원하는 데이터를 받아 일부만 바이딩 할수 있게 하는 방법으로 XML => json 으로 데이터 포맷이 변경 되었다.
2. 이것에 가장큰 의미는 서버로 데이터를 받아 오는 과정에서 클라이언트가 사용이 중지 되지 않는 다는점이다. (핵심)

## 비동기적인 자바스크립트?

자바스크립트는 싱글 스레드 언어 이기 때문에 기본적으로는 작성 순서대로 코드가 실행되어야 한다. 한번에 하나의 작업밖에 할수 없다는 뜻이다.
자바스크립트 엔진에는 콜 스택을 가지고 있다. 자료구조 스택과 같이 함수를 추가하고 제거하는 형태로 되어 있다. 이런 특징 이외에 자바스크립트는
웹 api, 테스크 큐와 이벤트 시스템이 있다. 

### 웹 api

브라우저에서 제공하는 api로 ajax나 timeout같은 비동기 작업을 처리해준다. 엔진은 웹 api에 timeout를 요청하고 동시에 callback을 전달한다.
웹 api는 타임아웃이 되면 callback을 테스크 큐에 전달한다.

### task queue

웹 api에서 전달 받은 callback를 콜스택이 비어있는지 확인후 콜스택에 전달한다. 이런작업을 이벤트 시스템이 처리한다. (event loop)

## 발전

2009년 노드(node)가 정식 출시된 이후 서버측 자바스크립트는 해결해야될 문제는 동시성에 대한 신뢰 할수 있는가가 핵심 쟁점이었다.
노드는 이런 문제를 이벤트루프를 이용한 콜백 기능을 이용했다.
비동기 코드가 순서대로 실행되기 위해서는 콜백안에 콜백안에 콜백...... 이런식으로 작성해야 비동기적 코드의 순서가 정상적으로 동작했다.


### 문제..

이런 코드를 작성하게 되면, 코드의 가독성이 현저하게 떨어지게 된다.

### 해결

이런 문제를 해결하고자 es6에서는 promise라는 표준을 제공하게 된다. 여전히 콜백기반형식을 가지고 있지만, 체인 작업에 대한 일관성 있는 신텍스 슈거를 제공했다.

### 발전

promise를 이용하면 많은 개선을 할수 있지만 콜백되는 값을 promise로 감싸줘야 하는 번거로움이 있다. 이런 문제를 해결하기 위해서는

